# âœï¸ THUMB TEXT - ImplementaÃ§Ã£o de EdiÃ§Ã£o

## ğŸ¯ CONTEXTO

**LocalizaÃ§Ã£o:** Production Approval Queue 2 > Tab "Thumbnails"

**Estado ATUAL:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“¸ Thumbnail de Benchmark                 â”‚
â”‚ [Imagem da thumb de referÃªncia]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¨ Thumbnail Gerada                        â”‚
â”‚ [Imagem da thumb gerada pela IA]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[Aprovar] [Reprovar e Regerar]
```

**Estado DESEJADO:**
```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“¸ Thumbnail de Benchmark                 â”‚
â”‚ [Imagem da thumb de referÃªncia]           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¨ Thumbnail Gerada                        â”‚
â”‚ [Imagem da thumb gerada pela IA]          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” <- NOVO!
â”‚ ğŸ“ TEXTO DA THUMBNAIL  [247 chars] [Mod]  â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚ â”‚ MY CEO SON Asked about the $8000    â”‚   â”‚
â”‚ â”‚ I sent each month... The TRUTH will â”‚   â”‚
â”‚ â”‚ shock you ğŸ”¥                         â”‚   â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚ â“˜ Texto corrido (sem quebras)...          â”‚
â”‚                      [Resetar ao Original] â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

[Aprovar] [Reprovar e Regerar]
```

---

## ğŸ“¦ O QUE IMPLEMENTAR

### 1. Adicionar campo `thumbText` ao tipo
```tsx
interface PendingThumbnail {
  id: number;
  videoId: number;
  channelName: string;
  channelColor: string;
  videoTitle: string;
  referenceThumbnail: string;
  generatedThumbnail: string;
  thumbText: string;              // <- NOVO
  createdAt: string;
  status: 'pending' | 'approved' | 'rejected';
  author: string;
}
```

### 2. Adicionar estados de ediÃ§Ã£o
```tsx
// Dentro do componente ProductionApprovalQueue2
const [editedThumbText, setEditedThumbText] = useState('');
const [isThumbTextModified, setIsThumbTextModified] = useState(false);
```

### 3. Adicionar card de ediÃ§Ã£o de texto
Card com gradient laranja, textarea editÃ¡vel, contador de caracteres e botÃ£o de reset.

### 4. Detectar modificaÃ§Ã£o na aprovaÃ§Ã£o
Ao aprovar, detectar se `thumbText` foi modificado e logar/enviar para backend.

---

## ğŸ”§ IMPLEMENTAÃ‡ÃƒO PASSO A PASSO

### PASSO 1: Atualizar Interface (linha ~255)

**Localizar:**
```tsx
interface PendingThumbnail {
  id: number;
  videoId: number;
  // ... outros campos
}
```

**Adicionar:**
```tsx
interface PendingThumbnail {
  id: number;
  videoId: number;
  channelName: string;
  channelColor: string;
  videoTitle: string;
  referenceThumbnail: string;
  generatedThumbnail: string;
  thumbText: string;              // <- ADICIONAR
  createdAt: string;
  status: 'pending' | 'approved' | 'rejected';
  author: string;
}
```

---

### PASSO 2: Adicionar Estados (linha ~300)

**Localizar:**
```tsx
const [selectedThumbnailItem, setSelectedThumbnailItem] = useState<PendingThumbnail | null>(null);
```

**Adicionar logo abaixo:**
```tsx
const [selectedThumbnailItem, setSelectedThumbnailItem] = useState<PendingThumbnail | null>(null);

// Estados para ediÃ§Ã£o de thumb_text
const [editedThumbText, setEditedThumbText] = useState('');
const [isThumbTextModified, setIsThumbTextModified] = useState(false);

// Sincronizar editedThumbText quando item muda
useEffect(() => {
  if (selectedThumbnailItem) {
    setEditedThumbText(selectedThumbnailItem.thumbText);
    setIsThumbTextModified(false);
  }
}, [selectedThumbnailItem]);
```

**Import necessÃ¡rio (adicionar no topo):**
```tsx
import { useEffect } from 'react'; // Se ainda nÃ£o tiver
```

---

### PASSO 3: Atualizar Mock Data (linha ~265)

**Localizar:**
```tsx
const mockPendingThumbnails: PendingThumbnail[] = [
  {
    id: 1,
    videoId: 103,
    channelName: 'DramatizeMe',
    channelColor: '#DC2626',
    videoTitle: "On Father's Day, My CEO Son Asked...",
    referenceThumbnail: 'https://...',
    generatedThumbnail: 'https://...',
    // thumbText: ???  <- FALTA ISSO
    createdAt: '2025-11-23T12:00:00',
    status: 'pending',
    author: 'AI Agent'
  },
```

**Adicionar `thumbText` em TODOS os items:**
```tsx
const mockPendingThumbnails: PendingThumbnail[] = [
  {
    id: 1,
    videoId: 103,
    channelName: 'DramatizeMe',
    channelColor: '#DC2626',
    videoTitle: "On Father's Day, My CEO Son Asked, \"Dad, Do You Like The $8000 Marcus Sends You?\"",
    referenceThumbnail: 'https://images.unsplash.com/photo-1484480974693-6ca0a78fb36b?w=800&h=450&fit=crop',
    generatedThumbnail: 'https://images.unsplash.com/photo-1552664730-d307ca884978?w=800&h=450&fit=crop',
    thumbText: 'AT THE $800M CONTRACT HEARING, MY FORMER BOSS CLAIMED MY ENGINEERING WORK AS HIS OWN. WHEN THE CTA BOARD ASKED HIM TO EXPLAIN THE CALCULATIONS ON PAGE 47, HE WENT PALE. THEN THEY TURNED TO ME AND ASKED: "CAN YOU EXPLAIN THIS, MR FREEMAN?"',
    createdAt: '2025-11-23T12:00:00',
    status: 'pending',
    author: 'AI Agent'
  },
  {
    id: 2,
    videoId: 104,
    channelName: 'DramatizeMe',
    channelColor: '#DC2626',
    videoTitle: "Homeless Girl Shares Her Bread With Mean Vendor",
    referenceThumbnail: 'https://images.unsplash.com/photo-1509099836639-18ba1795216d?w=800&h=450&fit=crop',
    generatedThumbnail: 'https://images.unsplash.com/photo-1488521787991-ed7bbaae773c?w=800&h=450&fit=crop',
    thumbText: 'MY CEO SON Asked about the $8000 I sent each month... The TRUTH will shock you ğŸ”¥',
    createdAt: '2025-11-23T11:30:00',
    status: 'pending',
    author: 'AI Agent'
  },
];
```

**IMPORTANTE:** Adicionar `thumbText` em TODOS os items do array.

---

### PASSO 4: Adicionar Card de EdiÃ§Ã£o (linha ~1450)

**Localizar dentro de "Thumbnail Review":**
```tsx
{/* Thumbnail Review */}
{selectedThumbnailItem && (
  <div className="max-w-4xl mx-auto space-y-6">
    
    {/* Video Info */}
    <div className="bg-muted/30 ...">
      ...
    </div>

    {/* Reference Thumbnail */}
    <div className="bg-muted/30 ...">
      ...
    </div>

    {/* Generated Thumbnail */}
    <div className="bg-muted/30 ...">
      ...
    </div>

    {/* ADICIONAR AQUI O CARD DE THUMB TEXT */}
```

**Adicionar DEPOIS do card "Generated Thumbnail":**
```tsx
{/* Thumb Text Editor */}
<div className="bg-gradient-to-r from-orange-500/10 to-amber-500/10 border-l-4 border-orange-500 p-4 rounded-lg">
  {/* Header */}
  <div className="flex items-center justify-between mb-3">
    <div className="flex items-center gap-2">
      <span className="text-2xl">ğŸ“</span>
      <h3 className="font-semibold">TEXTO DA THUMBNAIL</h3>
    </div>
    <div className="flex items-center gap-2">
      <Badge variant="outline" className="font-mono text-xs">
        {editedThumbText.length} caracteres
      </Badge>
      {isThumbTextModified && (
        <Badge variant="secondary" className="text-xs">Modificado</Badge>
      )}
    </div>
  </div>
  
  {/* Textarea */}
  <Textarea
    value={editedThumbText}
    onChange={(e) => {
      setEditedThumbText(e.target.value);
      setIsThumbTextModified(e.target.value !== selectedThumbnailItem?.thumbText);
    }}
    placeholder="Digite o texto que aparecerÃ¡ na thumbnail..."
    className="min-h-[120px] font-mono text-sm resize-y bg-background border-2 border-border focus:border-primary"
    rows={5}
  />
  
  {/* Helper + Reset Button */}
  <div className="mt-3 flex items-center justify-between">
    <div className="flex items-center gap-2 text-xs text-muted-foreground">
      <AlertCircle className="w-3 h-3" />
      <span>Texto corrido (sem quebras). Caixa alta e palavras-chave chamam atenÃ§Ã£o.</span>
    </div>
    {isThumbTextModified && (
      <Button
        variant="ghost"
        size="sm"
        onClick={() => {
          if (selectedThumbnailItem) {
            setEditedThumbText(selectedThumbnailItem.thumbText);
            setIsThumbTextModified(false);
          }
        }}
        className="gap-2 text-xs"
      >
        <RotateCcw className="w-3 h-3" />
        Resetar ao Original
      </Button>
    )}
  </div>
</div>
```

**Imports necessÃ¡rios (adicionar no topo):**
```tsx
import { Textarea } from './ui/textarea';
import { AlertCircle, RotateCcw } from 'lucide-react';
// Badge e Button jÃ¡ devem estar importados
```

---

### PASSO 5: Detectar ModificaÃ§Ã£o na AprovaÃ§Ã£o (linha ~1600)

**Localizar a funÃ§Ã£o `handleApproveThumbnail`:**
```tsx
const handleApproveThumbnail = (itemId: number) => {
  const item = pendingThumbnails.find(t => t.id === itemId);
  if (!item) return;

  // LÃ³gica de aprovaÃ§Ã£o...
};
```

**Adicionar ANTES da lÃ³gica de aprovaÃ§Ã£o:**
```tsx
const handleApproveThumbnail = (itemId: number) => {
  const item = pendingThumbnails.find(t => t.id === itemId);
  if (!item) return;

  // âœ… DETECTAR MODIFICAÃ‡ÃƒO DO THUMB TEXT
  if (isThumbTextModified && editedThumbText !== item.thumbText) {
    console.log('ğŸ”¥ THUMB TEXT MODIFICADO DETECTADO!');
    console.log('Original:', item.thumbText);
    console.log('Editado:', editedThumbText);
    console.log('DiferenÃ§a de caracteres:', editedThumbText.length - item.thumbText.length);
    
    // TODO: Enviar para backend
    // await supabase
    //   .from('thumbnails')
    //   .update({ thumb_text: editedThumbText })
    //   .eq('id', itemId);
    
    // TODO: Triggerar regeneraÃ§Ã£o automÃ¡tica da thumbnail com novo texto
    // await fetch('/api/regenerate-thumbnail', {
    //   method: 'POST',
    //   body: JSON.stringify({ thumbnailId: itemId, newText: editedThumbText })
    // });
  }

  // Continua com a aprovaÃ§Ã£o normal...
  setOpenThumbnails(prev => prev.filter(id => id !== itemId));
  setSelectedThumbnailItem(null);
  toast.success('Thumbnail aprovada com sucesso!');
};
```

---

## âœ… CHECKLIST COMPLETO

### Interface e Estados
- [ ] Adicionar campo `thumbText: string` em `PendingThumbnail`
- [ ] Criar estado `editedThumbText`
- [ ] Criar estado `isThumbTextModified`
- [ ] Adicionar `useEffect` para sincronizar com `selectedThumbnailItem`

### Mock Data
- [ ] Adicionar `thumbText` no item id: 1
- [ ] Adicionar `thumbText` no item id: 2
- [ ] Adicionar `thumbText` em TODOS os outros items (se houver)

### Visual
- [ ] Importar `Textarea` do shadcn/ui
- [ ] Importar Ã­cones `AlertCircle` e `RotateCcw` do lucide-react
- [ ] Adicionar card com gradient laranja/Ã¢mbar
- [ ] Header com emoji ğŸ“ + tÃ­tulo + badges
- [ ] Textarea editÃ¡vel com font-mono
- [ ] Helper com Ã­cone e texto
- [ ] BotÃ£o "Resetar ao Original" (condicional)

### Funcionalidade
- [ ] onChange do textarea atualiza `editedThumbText`
- [ ] onChange detecta modificaÃ§Ã£o comparando com original
- [ ] Badge "Modificado" aparece quando `isThumbTextModified = true`
- [ ] BotÃ£o "Resetar" aparece quando `isThumbTextModified = true`
- [ ] BotÃ£o "Resetar" restaura texto original
- [ ] FunÃ§Ã£o `handleApproveThumbnail` detecta modificaÃ§Ã£o
- [ ] Console.log mostra texto original vs editado

### Testes
- [ ] Abrir Approval Queue 2 > Tab "Thumbnails"
- [ ] Selecionar um item pendente
- [ ] Ver card de ediÃ§Ã£o de texto aparecer
- [ ] Editar o texto e ver badge "Modificado"
- [ ] Ver contador de caracteres atualizar
- [ ] Clicar "Resetar ao Original" e ver texto voltar
- [ ] Aprovar sem modificar (nÃ£o deve logar)
- [ ] Aprovar com modificaÃ§Ã£o (deve logar no console)

---

## ğŸ“ LAYOUT FINAL

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¬ Video Info                                            â”‚
â”‚ [DramatizeMe] On Father's Day...                         â”‚
â”‚ Gerado hÃ¡ 2 horas por AI Agent                           â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“¸ THUMBNAIL DE BENCHMARK                                â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚                                                      â”‚ â”‚
â”‚ â”‚              [Imagem de referÃªncia]                  â”‚ â”‚
â”‚ â”‚                                                      â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ¨ THUMBNAIL GERADA                                      â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚                                                      â”‚ â”‚
â”‚ â”‚              [Imagem gerada pela IA]                 â”‚ â”‚
â”‚ â”‚                                                      â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ ğŸ“ TEXTO DA THUMBNAIL      [247 caracteres] [Modificado]â”‚
â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
â”‚ â”‚ AT THE $800M CONTRACT HEARING, MY FORMER BOSS       â”‚ â”‚
â”‚ â”‚ CLAIMED MY ENGINEERING WORK AS HIS OWN. WHEN THE    â”‚ â”‚
â”‚ â”‚ CTA BOARD ASKED HIM TO EXPLAIN THE CALCULATIONS     â”‚ â”‚
â”‚ â”‚ ON PAGE 47, HE WENT PALE. THEN THEY TURNED TO ME    â”‚ â”‚
â”‚ â”‚ AND ASKED: "CAN YOU EXPLAIN THIS, MR FREEMAN?"      â”‚ â”‚
â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
â”‚ â“˜ Texto corrido (sem quebras)...  [Resetar ao Original]â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ â“˜ Dica: Se a thumbnail gerada nÃ£o atender Ã s            â”‚
â”‚ expectativas, clique em "Reprovar e Regerar"...          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

              [Aprovar]  [Reprovar e Regerar]
```

---

## ğŸ¨ CORES E CLASSES

### Card de Thumb Text
```tsx
className="bg-gradient-to-r from-orange-500/10 to-amber-500/10 border-l-4 border-orange-500 p-4 rounded-lg"
```

### Header
- Emoji: `text-2xl` (24px)
- TÃ­tulo: `font-semibold`
- Badge contador: `variant="outline" font-mono text-xs`
- Badge modificado: `variant="secondary" text-xs`

### Textarea
```tsx
className="min-h-[120px] font-mono text-sm resize-y bg-background border-2 border-border focus:border-primary"
```

### Helper
- Ãcone: `AlertCircle w-3 h-3` (12px)
- Texto: `text-xs text-muted-foreground`

### BotÃ£o Reset
- Variant: `ghost`
- Size: `sm`
- Ãcone: `RotateCcw w-3 h-3`

---

## ğŸš¨ REGRAS IMPORTANTES

### âœ… FAZER
1. **Texto corrido** - `thumbText` nunca tem `\n` (quebras de linha)
2. **Font mono** - Facilita contagem de caracteres
3. **Resize vertical** - `resize-y` permite usuÃ¡rio ajustar altura
4. **Detectar modificaÃ§Ã£o** - Comparar `editedThumbText !== item.thumbText`
5. **Estado sincronizado** - `useEffect` atualiza quando item muda
6. **Badges condicionais** - "Modificado" sÃ³ se `isThumbTextModified = true`
7. **Console.log** - Mostrar original vs editado ao aprovar

### âŒ NÃƒO FAZER
1. ~~NÃ£o usar `\n`~~ - Texto corrido sem quebras manuais
2. ~~NÃ£o hardcodar altura~~ - Usar `min-h` + `resize-y`
3. ~~NÃ£o esquecer useEffect~~ - Estado precisa sincronizar
4. ~~NÃ£o esquecer imports~~ - Textarea, Ã­cones, etc.
5. ~~NÃ£o remover lÃ³gica original~~ - SÃ³ adicionar detecÃ§Ã£o

---

## ğŸ“ EXEMPLO DE CONSOLE.LOG

Quando o usuÃ¡rio aprovar com texto modificado:

```
ğŸ”¥ THUMB TEXT MODIFICADO DETECTADO!
Original: MY CEO SON Asked about the $8000 I sent each month... The TRUTH will shock you ğŸ”¥
Editado: MY CEO SON CONFRONTED ME about the $8000 I sent each month... The TRUTH will DESTROY you ğŸ’¥
DiferenÃ§a de caracteres: 15
```

---

## ğŸ”Œ PRÃ“XIMOS PASSOS (BACKEND)

Depois de implementar o frontend, serÃ¡ necessÃ¡rio:

1. **Supabase Schema:**
   - Criar campo `thumb_text` na tabela `thumbnails`
   
2. **Edge Function:**
   - Criar funÃ§Ã£o para regerar thumbnail com novo texto
   - Endpoint: `POST /api/regenerate-thumbnail`
   
3. **IntegraÃ§Ã£o:**
   - Substituir `console.log` por chamada real ao backend
   - Atualizar banco de dados
   - Triggerar regeneraÃ§Ã£o automÃ¡tica

**Mas isso Ã© para depois!** Primeiro implementar o frontend completamente.

---

## ğŸ“¦ ARQUIVO

**LocalizaÃ§Ã£o:** `/components/ProductionApprovalQueue2.tsx`

**Linhas a modificar:**
- ~255: Interface `PendingThumbnail`
- ~265: Mock data `mockPendingThumbnails`
- ~300: Estados + useEffect
- ~1450: Card de ediÃ§Ã£o de thumb text
- ~1600: DetecÃ§Ã£o na aprovaÃ§Ã£o

**Imports a adicionar:**
```tsx
import { useEffect } from 'react';
import { Textarea } from './ui/textarea';
import { AlertCircle, RotateCcw } from 'lucide-react';
```

---

**Documento Ãºnico de implementaÃ§Ã£o**  
**VersÃ£o:** 1.0 Final  
**Data:** 29 de Novembro de 2025
